
@use 'mixins' as *;
@use 'variables-scss' as *;
/**
  anything that do not match up with the core-ui-module globals
*/
$oehYellow: #e4f700;

@use 'node_modules/ngx-edu-sharing-metaqs2' as metaqs2-widgets;
@forward '../app/extension/topic-page/topic-page-styles';

:root {
    @include metaqs2-widgets.donut-chart-tooltip-background-color(white);
}

:root {
    // height of real mainnav (100)
    --mainnavHeight: 100px;
}
/* Color styles */
:root {
    --black: #000000;
    --lila: #7F6FEE;
    --red---red: #E73445;
    --red---red_80: #EC5D6A;
    --red---red_60: #F1858F;
    --red---red_40: #F5AEB5;
    --red---red_20: #FAD6DA;
    --red---red_15: #FBE1E3;
    --dark-blue---darkblue: #003B7C;
    --dark-blue---dark-blue_80: #336296;
    --dark-blue---dark-blue_60: #6689B0;
    --dark-blue---dark-blue_40: #99B1CB;
    --dark-blue---dark-blue_20: #CCD8E5;
    --dark-blue---dark-blue_15: #D9E2EB;
    --blue---blue: #3DA6EE;
    --blue---blue_80: #64B8F1;
    --blue---blue-60: #8BCAF5;
    --blue---blue_40: #B1DBF8;
    --blue---blue_20: #D8EDFC;
    --blue---blue_15: #E2F2FC;
    --dark-green---dark-green: #106029;
    --dark-green---dark-green_80: #408054;
    --dark-green---dark-green_60: #70A07F;
    --dark-green---dark-green_40: #9FBFA9;
    --dark-green---dark-green_20: #CFDFD4;
    --dark-green---dark-green_15: #DBE7DF;
    --green---green: #B4DA1C;
    --green---green_80: #C3E149;
    --green---green_60: #D2E977;
    --green---green_40: #E1F0A4;
    --green---green_20: #F0F8D2;
    --green---green_15: #F4F9DD;
    --pink---pink: #EC4A70;
    --pink---pink_80: #F06E8D;
    --pink---pink_60: #F492A9;
    --pink---pink_40: #F7B7C6;
    --pink---pink_20: #FBDBE2;
    --pink---pink_15: #FCE4EA;
    --rose---rose: #EF809A;
    --rose---rose_80: #F299AE;
    --rose---rose_60: #F5B3C2;
    --rose---rose_40: #F9CCD7;
    --rose---rose_20: #FCE6EB;
    --rose---rose_15: #FDECF0;
    --orange---orange: #FFB930;
    --orange---orange_80: #FFC759;
    --orange---orange_60: #FFD583;
    --orange---orange_40: #FFE3AC;
    --orange---orange_20: #FFF1D6;
    --orange---orange_15: #FFF4E0;
    --lila---lila: #7F6FEE;
    --lila---lila_80: #998CF1;
    --lila---lila_60: #B2A9F5;
    --lila---lila_40: #CCC5F8;
    --lila---lila_20: #E5E2FC;
    --lila---lila_15: #ECE9FC;
}



@font-face {
    font-family: 'Montserrat';
    src: url('src/app/core-ui-module/styles/fonts/oeh/Montserrat-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
}
@font-face {
    font-family: 'Montserrat';
    src: url('src/app/core-ui-module/styles/fonts/oeh/Montserrat-Medium.ttf') format('truetype');
    font-weight: 500;
    font-style: normal;
}

@font-face {
    font-family: 'Source-Sans-Pro-Regular';
    src: url('src/app/core-ui-module/styles/fonts/oeh/SourceSansPro-Regular.ttf')
        format('truetype');
    font-weight: 400;
    font-style: normal;
}

html,
body {
    font-family: $primaryFontFamily, sans-serif !important;
    font-size: 16px !important;
}

h1,
h2,
h3,
h4,
h5,
h6,
.mat-menu-item,
.mat-option-text {
    font-family: 'Montserrat', sans-serif;
    font-weight: 500;
}

.mat-tooltip {
    font-size: 14px;
    font-weight: 400;
    background-color: var(--palette-primary-100);
}

.mat-mdc-menu-panel {
    border-radius: 0px 0px 15px 15px !important;
    max-width: 320px !important;
}

.mat-dropdown-menu ul li .mat-menu-item {
    &:not([disabled]) {
        color: var(--primary) !important;
    }
    &:hover:not([disabled]),
    &.cdk-focused {
        color: var(--primary) !important;
        background-color: var(--palette-primary-100) !important;
    }
}

.mat-tab-group.mat-dark {
    .mat-ink-bar {
        background-color: $oehYellow;
    }
}

.mat-menu-content {
    .mat-menu-item {
        height: 40px;
    }
}

.dialog-right {
    top: var(--mainnavHeight);
    height: calc(100% - var(--mainnavHeight));
}
@media screen and (max-width: ($mobileWidth+$mobileStage*1)) {
    :root {
        --mainnavHeight: 50px;
    }
    .rowRepositories {
        display: none;
    }
    es-search {
        .top.scrollWithBanner {
            top: var(--mainnavHeight);
        }
        .results.alignWithBanner {
            margin-top: calc(var(--mainnavHeight) + 80px);
        }
    }
}
@media screen and (max-width: ($mobileTabSwitchWidth)) {
    .tab-nav {
        display: none !important;
    }
}
.topBar.topBar-embed {
    display: none;
}
.topBar > div.mobile-move-top2 {
    background: #f6f8fb !important;
    background-size: cover !important;
    background-position: 50% 50% !important;
    height: 100px !important;
    display: grid !important;
    grid-template-columns: fit-content(250px) fit-content(200px) 1fr fit-content(100px);
    grid-template-rows: 100px;
    .menuButtonOuter {
        grid-column: 1;
        .menuButton {
            height: 100%;
            color: var(--primary);
            border-radius: 0 !important;
            img {
                padding: 0 15px;
                height: 40px;
            }
            i.barIcon {
                width: 1em;
                height: 1em;
                margin-right: 0;
                margin-left: 10px;
                font-size: 24px;
            }
        }
    }
    .add-material {
        grid-column: 2;
        .addDesktop {
            margin-left: 16px !important;
        }
    }
    .topBarSearch {
        grid-column: 3;
    }
    .topbar-search-right {
        grid-column: 4;
        justify-self: end;
        .mat-mdc-icon-button {
            color: $textLight;
            width: 40px;
            height: 40px;
            padding: 5px 0 0 0;
        }
        button {
            color: var(--primary);
            // user name
            .mdc-button__label > span {
                display: none !important;
            }
        }
    }
    @media screen and (max-width: ($mobileWidth + $mobileStage*1)) {
        &::before {
            height: 0;
        }
        .menuButtonOuter {
            .menuButton {
                border-radius: 0 !important;
                img {
                    display: none;
                }
            }
        }
        .clear-button {
            display: none;
        }
        .search-field-input-wrapper {
            min-width: 100px;
        }
        .user {
            min-width: 0;
            margin-left: 0 !important;
            margin-right: 20px !important;
            .mat-button-wrapper > span {
                display: none !important;
            }
            .iconArrow {
                display: none;
            }
        }
    }
    /*
    &::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 55px;
        top: 0;
        background-color: #002c5c;
    }*/
    .add-material {
        button.addDesktop {
            color: var(--primary);
            background-color: $oehYellow;
            border-radius: 50px;
            height: 35px;
        }
    }
    .topBarSearch {
        display: flex;
        justify-content: center;
        es-search-field {
            flex-grow: 1;
            max-width: 600px !important;
            .search-field-wrapper {
                border: solid 1px #c9d6e6;
                background: var(--primary)VeryLight;
                border-radius: 30px;
                padding: 0px 0px;
                align-items: center;
                &.input-has-focus:not(.cdk-keyboard-focused) {
                    box-shadow: unset !important;
                }
                &::before {
                    content: '';
                    width: 22px;
                    height: 22px;
                    flex-shrink: 0;
                    align-self: center;
                    margin-left: 16px;
                    margin-right: 8px;
                    background: url('../../src/assets/images/icon_search.svg');
                    background-size: contain;
                }
                .search-field-input-wrapper {
                    input {
                        height: 40px;
                        margin: unset !important;
                    }
                    button:last-child {
                        // hide the "Suchen" button
                        display: none;
                        height: 30px;
                        line-height: 30px;
                        width: auto;
                        margin: 5px;
                        padding: 0 16px;
                        border-radius: 15px;
                        background-color: var(--primary)Dark;
                        color: white;
                        font-family: Montserrat;
                        font-weight: 500;
                        &::after {
                            content: 'Suchen';
                        }
                        i {
                            display: none;
                        }
                    }
                }
            }
        }
    }
}
es-info-message {
    .block {
        border-radius: 10px !important;
        border-width: 2px !important;
        @include materialShadowBottom();
        &.info {
            color: var(--dark-blue---darkblue) !important;
            border-color: var(--dark-blue---darkblue) !important;
            background-color: var(--dark-blue---dark-blue_15) !important;
        }
        &.warning {
            border-color: var(--orange---orange) !important;
            background-color: var(--orange---orange_15) !important;
        }
        &.error {
            border-color: var(--red---red) !important;
            background-color: var(--red---red_15) !important;
        }
    }
}
es-main-menu-sidebar {
    .darken {
        background: transparent;
    }
    .sidebar {
        $sidebarWidth: 350px;
        width: $sidebarWidth !important;
        &::after {
            content: '';
            background: url('../../src/assets/images/wlo-logo-smaller.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            position: fixed;
            z-index: -1;
            width: $sidebarWidth;
            height: 18px;
            bottom: 30px;
        }
        .main {
            .top {
                height: 220px !important;
            }
        }
    }
}

es-mds-editor-widget-tree-core {
    &,
    *:not(i, mat-icon),
    .mat-form-field-label {
        font-family: 'Montserrat';
        font-weight: 500;
    }
}
es-mds-editor-card {
    .extended-toggle-container .extended-toggle {
        background: var(--blue---blue_15) !important;
    }

    .wlo-contributor-heading > *:last-child {
        margin-top: -30px;
    }
    .widget-type-vcard {
        .array-entry {
            display: flex !important;
            padding-bottom: 3px;
            &:after {
                content: '' !important;
            }
        }
    }
}
es-node-render,
es-mds-editor-wrapper,
es-mds-editor-card {
    hr {
        height: 2px;
        width: calc(100% + 36px * 2);
        background: #888;
        border: none;
        margin-left: -36px;
    }
    .wlo-caption {
        font-size: 130%;
        font-weight: bold;
        padding: 15px 0;
    }
    h4.wlo-caption {
        font-size: 100%;
    }
    .wlo-primary-wrap-mobile {
        @media (screen and max-width: 750px) {
            flex-direction: column;
        }
    }
    .wlo-primary-wrap-mobile-reverse {
        @media (screen and max-width: 750px) {
            flex-direction: column-reverse;
        }
    }
    .wlo-side-by-side {
        display: flex;
        width: 100%;
        // justify-content: space-between;
        > *:first-child {
            width: 50%;
        }
        .wlo-primary-metadata {
            font-size: 85%;
            color: $textLight;
            flex-grow: 1;
            display: flex;
            padding: 26px 50px 0 20px;
            justify-content: flex-start;
            align-items: flex-start;
            flex-direction: column;
            .mdsWidgetCaption {
                display: none;
            }
            .mdsWidget_license {
                padding-top: 15px;
                padding-left: 38px;
                .mdsValue > div {
                    display: flex;
                    img {
                        display: none;
                    }
                    .licenseDescription,
                    .licenseTitleOfWork {
                        display: none;
                    }
                    .licenseName {
                        font-weight: normal;
                        padding-right: 8px;
                    }
                    .licenseGroup {
                        &:before {
                            content: '(';
                        }
                        &:after {
                            content: ')';
                        }
                    }
                }
            }
            > div {
                display: flex;
                .mds_ccm_replicationsource,
                .mds_ccm_published_date {
                    padding-left: 14px;
                }
                .mds_ccm_published_date .mdsValue > div:after {
                    content: ' verÃ¶ffentlicht';
                }
                li.mdsValue {
                    display: inline-flex;
                    background-color: transparent;
                    color: $textLight;
                }
                .mdsValue {
                    line-height: 1.2;
                    > i {
                        padding-right: 5px;
                    }
                }
            }
        }
    }
    .wlo-old-data {
        opacity: 0.75;
        font-size: 85%;
    }
    es-mds-editor-widget-license {
        .link {
            justify-content: flex-end !important;
        }
    }
}
es-node-render {
    #nodeRenderContentWrapper {
        top: 50px !important;
    }
    .topBar {
        height: 50px !important;
        padding: 0 !important;
    }

    .edusharing_rendering_metadata_body {
        max-width: 1400px;
        justify-self: center;
        margin: auto;
    }
    @media (min-width: 1400px) {
        .edusharing_rendering_metadata_body .mdsGroup {
            min-width: 50%;
        }
    }
    .mdsGroup {
        .node_description_render {
            display: none;
        }
        &:first-child {
            min-width: 100%;
        }
        &.mdsGroup-node_collections_render {
            min-width: 100%;
        }
    }
    .mdsWidgetCaption {
        margin-top: 30px !important;
    }
    .mdsValue {
        font-size: 140%;
        > div {
            > a {
                display: flex;
                > img {
                    padding-right: 15px;
                }
            }
        }
    }
    .mdsWidgetMultivalue {
        margin-top: 0;
    }
    #nodeRenderContentWrapper {
        font-family: var(--primary)FontFamily !important;
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: var(--primary)FontFamily !important;
        }
    }
    #edusharing_rendering_metadata {
        padding-top: 12px;
    }
    .mdsWidget_vcard {
        .mdsWidgetMultivalue {
            display: flex;
            align-items: flex-start;
            flex-direction: column;
        }
        .mdsValue {
            background-color: transparent !important;
        }
    }
    .edusharing_rendering_metadata_body .mdsWidgetCaption {
        font-style: normal;
    }
    .mds_cclom_general_description {
        min-height: 100px;
        max-width: 850px;
    }
    .mdsContent {
        padding: 0 13px;
    }
    .mdsCaption {
        color: $textMediumLight !important;
        border-bottom: 1px solid $textMediumLight !important;
    }
    .edusharing_rendering_metadata_header {
        display: none !important;
    }
    .edusharing_rendering_content_wrapper {
        position: relative;
        #edusharing_rendering_content_href {
            position: absolute;
            bottom: 0;
            right: 20px;
        }
    }
    .edusharing_rendering_content_title {
        font-size: 160% !important;
        color: var(--primary) !important;
        &:before {
            content: 'Titel: ';
            font-size: 60%;
            font-weight: normal;
            padding-right: 10px;
            color: $textMediumLight;
        }
    }
}
es-mds-editor-view {
    h3.heading {
        color: $textLight;
        background-color: var(--blue---blue_15);
    }
}
es-mds-editor-core {
    es-mds-editor-widget-container {
        // this breaks the hidden fields!
        //padding-bottom: 12px;
    }
    .mat-form-field-hint-wrapper {
        padding-left: 12px;
        transform: translateY(-7%) !important;
    }
    &,
    *:not(i, mat-icon),
    .mat-slide-toggle-content,
    .mat-form-field-label {
        font-family: 'Montserrat';
        font-weight: 500;
    }
    .header-container {
        label {
            margin-bottom: 20px !important;
            font-family: 'Montserrat';
            font-weight: normal;
            line-height: 24px;
        }
    }
    .license-list,
    .checkboxes-group .mat-checkbox {
        padding: 0 17px;
    }
    .mat-hint,
    .mat-error {
        line-height: 1.2;
    }
    .mat-radio-group,
    .checkboxes-group {
        padding: 5px 20px 5px 0 !important;
    }
    .mat-radio-button {
        margin-bottom: 15px !important;
    }
}
/*
es-collections {
    // evil hack: hide upload to prevent users to uploading to the inbox
    .collections-cards-div {
        .global-options button:nth-child(2) {
            display: none!important;
        }
    }
}
.create-menu-collections .collection-item-OPTIONS-ADD_OBJECT {
    // evil hack: hide upload to prevent users to uploading to the inbox
    display: none!important;
}
*/
es-collections-page {
    .breadcrumb-space {
        display: none !important;
    }
    es-collection-content {
        padding-top: 60px !important;
    }
}

es-node-entries-wrapper {
    .mat-column-primary,
    .card-meta-row-primary {
        es-list-base > div {
            display: flex;
            width: 100%;
            align-items: center;

            > div {
                &:first-child {
                    width: 0;
                    flex-grow: 1;
                    overflow: hidden;
                }

                &:last-child {
                    display: grid;
                    grid-template-columns: auto auto;
                    grid-gap: 10px;
                }
            }

            a {
                display: flex;
            }
        }
    }
}

.card-grid {
    .card-meta-row-primary {
        > div,
        > es-node-url {
            height: 4em !important;
            width: 100%;
            a,
            es-list-base {
                max-height: 4em !important;
            }
            es-list-base {
                > div {
                    flex-direction: column;
                    align-items: flex-start;

                    > div {
                        &:first-child {
                            width: 100%;
                            @include limitLineCount(2, 1.25);
                        }

                        &:last-child {
                            align-self: flex-end;
                        }
                    }
                }
            }
        }
    }
}

.mat-flat-button.mat-accent {
    color: var(--primary);
}

/** material v15 adaption (for example for metaQS-cards) */
mat-card-title.mat-mdc-card-title {
    font-size:24px;
    font-weight:700
}

/**
    this has roughly the same effect as "@include mat.button-density(-2)" should have
    which doesn't work for some reason
*/
.mat-mdc-icon-button.mdc-icon-button {
    height: 40px;
    width: 40px;
    padding: 8px;
    span.mat-mdc-button-touch-target {
        max-height: 40px;
        max-width: 40px;
    }
}

/** A quick fix for various mat-icons being cut off by sizing */
i.mat-icon, .mat-mdc-icon-button.mdc-icon-button {
    // NOPE: Breaks warning dialogs!
    // min-width: min-content;
}

/**
    roundness stuff
 */
.mat-mdc-button,
.mat-mdc-flat-button,
.mat-mdc-outlined-button,
.mat-mdc-raised-button,
.mat-mdc-unelevated-button {
    border-radius: 25px !important;
}
.mat-mdc-unelevated-button:not(.mat-ai):disabled {
    color: #fff !important;
    background-color: var(--palette-primary-100) !important;
}
.mdc-button.mat-ai {
    --mdc-filled-button-disabled-label-text-color: var(--aiColorText);
    --mdc-filled-button-disabled-container-color: color-mix(in srgb, var(--aiColor), 80% transparent);
    &:not(:disabled) {
        color: var(--aiColorText);
        background-color: var(--aiColor);
    }
}
.card-dialog-button-box, es-workflow-panel {
    .mat-mdc-outlined-button:not(.mat-mdc-flat-button):not(.mat-mdc-raised-button):not(.mat-mdc-unelevated-button) {
        border: 2px solid var(--primary);
        &.mat-mdc-button-disabled {
            border-color: #aaa;
        }
    }
}
.grid-card {
    border-radius: 12px;
}

es-top-bar {
    .scopeNameMobile {
        color: var(--primary);
    }
}
